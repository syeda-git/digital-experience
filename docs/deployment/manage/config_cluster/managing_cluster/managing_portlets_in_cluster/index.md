# Managing portlets in your cluster

Because all HCL Portal servers in the cluster share the same database, any node can be used to manage portlets. Cluster nodes can run when you are managing portlets. When you deploy a portlet, HCL Portal stores the portlet configuration data in the HCL Portal database. Then, HCL Portal forwards the portlet application's web module and associated configuration to the deployment manager. The deployment manager is responsible for pushing the web module to each node in the cluster.

The deployed portlets must be activated before they can be used. Activation cannot be accomplished until the deployment manager synchronizes the associated web modules to each node in the cluster.

!!!note
    Auto-synchronization of the web modules to each node in the cluster might not happen immediately, or at all. This auto-synchronization depends on how the administrator configured auto-synchronization in the deployment manager. Auto-synchronization is configured via the node agent definitions in the deployment manager. So, HCL Portal cannot promise that the portlet was successfully synchronized to each node in the cluster and thus cannot automatically activate the portlet during deployment.

1.  Deploy your portlets by using either the HCL Portal Administration page or the XML configuration interface utility (`xmlaccess` command).

2.  Change to the wp_profile_root/ConfigEngine directory.

3.  Run the following task to activate the deployed portlets and to synchronize the changes across all cluster members:

    !!!note
        If you run the activate-portlets task while you are logged in to HCL Portal, you must log out and log back in before you can see the updated status for the portlets.

    |Operating system|Task|
    |----------------|----|
    |AIX®, Linux™|`./ConfigEngine.sh activate-portlets -DWasPassword=password`|
    |Windows™|`ConfigEngine.bat activate-portlets -DWasPassword=password`|

4.  Use the following information to provide portlets as WSRP services:

    By providing a portlet as WSRP service, a Producer makes the deployed portlet available remotely to Consumers. The HCL Portal database stores information about whether a portlet deployed in the cluster is provided as a WSRP service. Because the HCL Portal database is shared between the nodes in a cluster, all nodes are updated when you are providing a portlet as a WSRP service.

    The URLs of the Producer services definitions in the Web Services Description Language (WSDL) document always automatically point to the web server that is running load-balancing in the cluster. This default setting ensures that all requests of Consumers starting WSRP services of the Producer are correctly load-balanced.

    The Producers URLs are generated by first checking the settings of the WSRP SOAP ports, as described in the WSRP documentation. If the SOAP port values are not set, the values of the host.name and host.port properties in `ConfigService` are used. These values typically point to the load-balancing traffic dispatcher. If no values are specified for either the SOAP ports or in `ConfigService`, the host name and port of the request that is used to reference the Producer WSDL document is used.

5.  Uninstall portlets in a clustered environment the same way as in a stand-alone environment. Uninstalling the portlet removes the portlet configuration from the databases and all cluster members share database. Therefore, the uninstalled portlet is unavailable to all other members automatically.

???+ info "Related information"  
    -   [How to install the authoring portlet](../../../../../manage_content/wcm_configuration/cfg_webcontent_auth_env/wcm_install_configtasks_authoringportlet.md)
