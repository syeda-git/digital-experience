# Generating a complete XML Access export of a Portal configuration

To help troubleshooting an HCL Portal issue, you might be asked by HCL Software Support to generate or collect a full or complete export of your Portal configuration. The complete export can be generated by using the XML Configuration Interface, commonly known as XMLAccess.

To generate a full export of your Portal's configuration, do the following steps:

1.  Open a terminal or command window. Change directory (cd) to <WP_Profile_root>/PortalServer/bin
2.  Run the following command all on one line:

    `xmlaccess -user Portal_admin_user -password Portal_admin_password -url http://<myhost>:<port>/wps/config -in <Portal home>/doc/xml-samples/Export.xml -out result.xml`

    -   Substitute `Portal_admin_user, Portal_admin_password, myhost`, and `port` with the correct values for your environment. It is recommended to use the direct URL and port so the request can bypass any web server or load balancer that might be present.
    -   The file name that is specified after the `-out` parameter contains the Portal configuration as XML. The output file can have any name.
    -   The protocol can be omitted after the -url in the value for the parameter except in the case of SSL.
    If you receive an error that any one of the variables JAVA, WPS_HOME or WAS\_HOME are not defined run the script `<Appserver_home>/bin/setupCmdLine` in the current window.

    You might also start XMLAccess without any parameters on the command line to test it in your environment.

    If the file Export.xml is missing from your installation, contact IBM Support or take a copy from another Portal host.

    !!!note
        The file Export.xml is used as the input file in these examples to generate an export for diagnostic purposes. However, when Portal artifacts are to be imported to or updated in a Portal configuration, or for use by ReleaseBuilder the export file is generated by using ExportRelease.xml as the input file rather than Export.xml.


## Virtual Portals

XMLAccess exports the base or default Portal for the specified host by using the /config URI. If virtual portals are defined, each must be exported separately. The virtual portal URL mapping context must be specified in the URL.

For example, given a Portal 7.0 virtual portal VP1 an example XMLAccess command to export the content of VP1 is:

`xmlaccess -user Portal_admin_user -password Portal_admin_password -url http://host.raleigh.ibm.com:10039/wps/config/VP1 -in Export.xml -out result_VP1.xml`

If your Virtual Portal is defined by using an optional host name, specify the host name and /config URI to export the Virtual Portal content:

`xmlaccess -user Portal_admin_user -password Portal_admin_password -url http://MyVirtualPortalHost.com:10039/wps/config -in Export.xml -out result_MyHost.xml`


